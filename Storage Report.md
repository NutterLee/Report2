# **Storage Cept**

## **一、简介**

> 定义：Ceph是一个统一的分布式存储系统，设计初衷是提供较好的性能、可靠性和可扩展性。

---

## **二、特点**
1. 高性能
    - 摒弃了传统的集中式存储元数据寻址的方案，采用CRUSH算法，数据分布均衡，并行度高。 
    - 考虑了容灾域的隔离，能够实现各类负载的副本放置规则，例如跨机房、机架感知等。
    - 能够支持上千个存储节点的规模，支持TB到PB级的数据。

2. 高可用性
    - 副本数可以灵活控制。
    - 支持故障域分隔，数据强一致性。
    - 多种故障场景自动进行修复自愈。
    - 没有单点故障，自动管理。

3. 高可扩展性
    - 去中心化。
    - 扩展灵活。
    - 随着节点增加而线性增长。

4. 特性丰富
    - 支持三种存储接口：块存储、文件存储、对象存储。
    - 支持自定义接口，支持多种语言驱动。

5. 支持三种接口：
    - Object：有原生的API，而且也兼容Swift和S3的API。
    - Block：支持精简配置、快照、克隆。
    - File：Posix接口，支持快照。
  
---

## **三、优点**
1. 块储存
    1. 通过Raid与LVM等手段，对数据提供了保护。
    2. 多块廉价的硬盘组合起来，提高容量。
    3. 多块磁盘组合出来的逻辑盘，提升读写效率。
2. 文件存储
    1. 造价低，随便一台机器就可以了。
    2. 方便文件共享。
3. 对象储存
    1. 具备块存储的读写高速。
    2. 具备文件存储的共享等特性。
  
---

## **四、缺点**
1. 块储存
    1. 采用SAN架构组网时，光纤交换机，造价成本高。
    2. 主机之间无法共享数据。
2. 文件存储
    1. 读写速率低。
    2. 传输速率慢。
 
---

## **五、My Comment**
Ceph是呼声很高的开源分布式的SDS储存系统。它同时提供了块储存，文件储存和对象储存三种功能以满足不同的应用需求。
Cehp的基础服务架构主要包括了OSD，Monitor和MDS。
其中OSD负责存储数据，处理数据复制、数据恢复、数据再均衡以及通过心跳机制监测其它OSD状况并报告给Ceph Monitors。每个对象是文件系统中的一个文件，它们存储在对象存储设备上。由OSD 守护进程处理存储设备上的读/写操作。
Monitor负责监控集群状态。同时，Monitor还会记录它们的每一个历史状态改变版本信息，以确定集群该遵循哪个版本。
MDS负责文件系统的元数据存储和管理。因此块存储和对象存储服务是不需要这个模块的。
所以搭建一台Cept系统最少需要一个Monitor&两个OSD。


